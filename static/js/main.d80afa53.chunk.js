(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(18)},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(8),c=n.n(i),s=(n(16),n(17),n(10)),l=n(9),r=n(1),d=n(2),u=n(4),m=n(3),f=n(5),h=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).inputChanged=function(e){n.setState({task:e.target.value})},n.submitForm=function(e){if(e.preventDefault(),n.state.task.trim()){var t={task:n.state.task};n.props.onSubmitted(t),n.setState({task:""})}},n.state={task:""},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("form",{onSubmit:this.submitForm},a.a.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",value:this.state.task,onChange:this.inputChanged}))}}]),t}(o.Component),p=n(6),b=function(e){var t=e.todo,n=e.editTodoId,i=e.showEditField,c=e.submitEditItem,s=e.setActive,l=e.deleteTodo,r=e.editTodo,d=e.onFocusChanged,u=Object(o.useState)(!1),m=Object(p.a)(u,2),f=m[0],h=m[1],b=Object(o.useState)(""),v=Object(p.a)(b,2),E=v[0],g=v[1],k=Object(o.useRef)(null),y=function(){var e=!f;s(t.id,!e),h(e)};Object(o.useEffect)(function(){return function(){return k.current.focus()}});var S=function(e){return c(e,E)};return a.a.createElement("li",{className:"".concat(t.isActive?"":"completed","\n      ").concat(i?" editing":"")},a.a.createElement("div",{className:"view",style:n===t.id?{display:"none"}:{display:"block"}},a.a.createElement("input",{onChange:y,type:"checkbox",checked:!t.isActive,className:"toggle",id:"todo-".concat(t.id)}),a.a.createElement("label",{onClick:y,htmlFor:"todo-".concat(t.id),onDoubleClick:function(e){return function(e,t){e.preventDefault(),r(t)}(e,t.id)}},t.task),a.a.createElement("button",{onClick:function(){return l(t.id)},type:"button",className:"destroy"})),a.a.createElement("form",{onSubmit:S},a.a.createElement("input",{onBlur:S,className:"edit",onKeyUp:function(e){27===e.keyCode&&d()},ref:k,onChange:function(e){return g(e.target.value)},value:E,placeholder:"What do you want to change?",style:n===t.id?{display:"block"}:{display:"none"}})))};b.defaultProps={editTodoId:null};var v=b,E=function(e){var t=e.todos,n=e.active,o=e.onButtonSelected,i=e.deleteSelectedTodo,c=t.some(function(e){return!1===e.isActive});return a.a.createElement("footer",{className:"footer",style:t.length>0?{display:"block"}:{display:"none"}},a.a.createElement("span",{className:"todo-count"},"".concat(t.length," items left")),a.a.createElement("ul",{className:"filters"},a.a.createElement("li",null,a.a.createElement("a",{onClick:function(){return o("all")},href:"#/",className:"all"===n?"selected":""},"All")),a.a.createElement("li",null,a.a.createElement("a",{onClick:function(){return o("active")},href:"#/active",className:"active"===n?"selected":""},"Active")),a.a.createElement("li",null,a.a.createElement("a",{onClick:function(){return o("completed")},href:"#/completed",className:"completed"===n?"selected":""},"Completed"))),a.a.createElement("button",{type:"button",className:"clear-completed",style:c?{display:"block"}:{display:"none"},onClick:i},"Clear completed"))};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).newItemSubmitted=function(e){var t=k({},e,{id:n.state.id,isActive:!0});n.setState(function(e){return{todos:[].concat(Object(s.a)(e.todos),[t]),id:e.id+1}})},n.inputChanged=function(e){n.setState({task:e.target.value})},n.submitEditItem=function(e,t){if(e.preventDefault(),""!==t.trim()){var o={task:t};n.onEditSubmitted(o),n.setState({task:""})}n.onFocusChanged()},n.onEditSubmitted=function(e){n.setState(function(t){return{todos:t.todos.map(function(n){return n.id===t.editTodoId?k({},n,{task:e.task,isActive:!0}):n}),editTodoId:null,showEditField:!1}})},n.filterTodos=function(){return n.state.todos.filter(function(e){switch(n.state.showTodos){case"all":return!0;case"completed":return!e.isActive;case"active":return e.isActive;default:return!0}})},n.setActive=function(e,t){n.setState(function(n){return k({},n,{todos:n.todos.map(function(n){return n.id!==e?n:k({},n,{isActive:t})})})})},n.onButtonSelected=function(e){n.setState({showTodos:e})},n.deleteTodo=function(e){n.setState(function(t){return{todos:t.todos.filter(function(t){return t.id!==e})}})},n.deleteSelectedTodo=function(){n.setState(function(e){return{todos:e.todos.filter(function(e){return e.isActive})}})},n.selectAll=function(){n.setState(function(e){var t=e.todos.every(function(e){return!e.isActive});return k({},e,{todos:e.todos.map(function(e){return k({},e,{isActive:t})})})})},n.editTodo=function(e){n.setState({showEditField:!0,editTodoId:e})},n.onFocusChanged=function(){n.setState({showEditField:!1,editTodoId:null})},n.state=JSON.parse(localStorage.getItem("state"))||{todos:[],id:1,showTodos:"all",editTodoId:null,showEditField:!1,task:"",editTask:""},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e,t){if(this.state!==t){var n=JSON.stringify(this.state);localStorage.setItem("state",n)}}},{key:"render",value:function(){var e=this,t=this.state,n=t.todos,o=t.showEditField,i=t.editTodoId,c=t.task,s=t.showButton,l=t.showTodos;return a.a.createElement("section",{className:"todoapp"},a.a.createElement("header",{className:"header"},a.a.createElement("h1",null,"todos"),a.a.createElement(h,{todos:n,onSubmitted:this.newItemSubmitted})),a.a.createElement("section",{className:"main"},a.a.createElement("input",{type:"checkbox",checked:!!n.length&&n.every(function(e){return!e.isActive}),id:"toggle-all",className:"toggle-all",onChange:this.selectAll}),a.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),a.a.createElement("ul",{className:"todo-list"},this.filterTodos().map(function(t){return a.a.createElement(v,{todo:t,key:t.id,deleteTodo:e.deleteTodo,setActive:e.setActive,editTodo:e.editTodo,showEditField:o,editTodoId:i,submitEditItem:e.submitEditItem,task:c,inputChanged:e.inputChanged,onFocusChanged:e.onFocusChanged})}))),a.a.createElement(E,{todos:n,showButton:s,deleteSelectedTodo:this.deleteSelectedTodo,onButtonSelected:this.onButtonSelected,filterTodos:this.filterTodos,active:l}))}}]),t}(o.Component);c.a.render(a.a.createElement(y,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.d80afa53.chunk.js.map